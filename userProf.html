<!DOCTYPE html>
<html>
<head>
	<!-- Mobile Specific Meta -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Favicon-->
	<!--<link rel="shortcut icon" href="img/favicon.png">-->
	<!-- Author Meta -->
	<meta name="author" content="Paul Rhee, Ming Chiang-Tseng, Anisa Anuar">
	<!-- Meta Description -->
	<meta name="description" content="This is TexChange.">
	<!-- Meta Keyword -->
	<meta name="keywords" content="textbook exchange">
	<!-- meta character set -->
	<meta charset="UTF-8">
	<!-- Site Title -->
	<title>User Profile | TexChange</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./favicon.png">
    <!-- Stylesheet -->
	<link rel="stylesheet" href="styles.css">
</head>
<style>
table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
}
th, td {
  padding: 5px;
}
th {
  text-align: left;
}
</style>
<body>

  <div onclick="location.href='search.html'" class="nav-bar">
    <div class="texchange">
      <img class="logo" src="./logo.png" />
    </div>
    <nav>
      <ul class="nav-menu">
        <li><a href="search.html">Home</a></li>
        <li><a href="userProf.html">Account</a></li>
        <li><a href="login.html">Log out</a></li>
      </ul>
    </nav>
  </div>

  <div class="container-95">

    <h3>User Profile</h3>

    <div class="textbook-info">

      <h4 class="category">Name: </h4> <p>Sam Casanova</p>
      <h4 class="category">Email: </h4> <p> sam.casanova@fakemail.com</p>
      <h4 class="category">Phone Number: </h4> <p>(555) 555-5555</p>
      <h4 class="category">Textbooks:</h4>
    </div>

    <table id="profile">
      <tr>
        <th><u>Type</u></th>
        <th><u>Name</u></th> 
        <th><u>Action</u></th>
      </tr>
      <tr>
        <td>SELL</td>
        <td>Music Business</td>
        <td><button type="button" onclick="deleteRow(this)">remove</button></td>
      </tr>
    </table>

    <div class="button-row half">
      <button class="secondary-button" type="button" onclick="createSell()">New Sell Entry</button>
      <button class="secondary-button" type="button" onclick="createTrade()">New Trade Entry</button>
    </div>

  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script>

    if (localStorage.getItem("tradeName").value !== "") {
      var row = document.getElementById("profile").insertRow(-1);
      var cell1 = row.insertCell(0);
      cell1.innerHTML = "TRADE";
      var cell2 = row.insertCell(1);
      cell2.innerHTML = JSON.parse(localStorage.getItem("tradeName"));
      var cell3 = row.insertCell(2);
      cell3.innerHTML = '<button type="button" onclick="deleteRow(this)">remove</button>';
      row.id = "traderow_id";
    }
    if (localStorage.getItem("sellName").value !== "") {
      var row = document.getElementById("profile").insertRow(-1);
      var cell1 = row.insertCell(0);
      cell1.innerHTML = "SELL";
      var cell2 = row.insertCell(1);
      cell2.innerHTML = JSON.parse(localStorage.getItem("sellName"));
      var cell3 = row.insertCell(2);
      cell3.innerHTML = '<button type="button" onclick="deleteRow(this)">remove</button>';
      row.id = "sellrow_id";
    }
    
    function createSell(){
      var sellWin = window.open("makeSell.html", "sell", "width=800,height=400")
    }
    function createTrade(){
      var tradeWin = window.open("makeTrade.html", "trade", "width=800,height=400")
    }
    function deleteRow(o) {
      var p = o.parentNode.parentNode;
      p.parentNode.removeChild(p);
    }
  </script>

</body>
</html>